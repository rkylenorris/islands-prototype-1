# Liminal Island Game - Prototype Outline

## Core Architecture

### 1. Item System (Primary Focus)
```python
# Abstract base class
class Item:
    def __init__(self, name, description, examine_text):
        self.name = name
        self.description = description
        self.examine_text = examine_text
        self.is_takeable = False
        self.affected_stats = []  # List of stat names this item affects
        self.available_actions = ["examine"]  # Basic actions all items support
    
    def can_perform_action(self, action, player):
        # Check if action is valid for this item and player state
        pass
    
    def perform_action(self, action, player):
        # Execute action, return affected stats and descriptive text
        pass
```

**Item Types to Implement:**
- `SimpleItem` - Basic examination only
- `ComplexItem` - Multiple interactions, conditional responses
- `TakeableItem` - Can be picked up and carried

### 2. Room System
```python
class Room:
    def __init__(self, name, description, theme):
        self.name = name
        self.description = description  # Full literary description
        self.theme = theme
        self.items = {}  # Dict of item_name: Item objects
        self.state = {}  # Room-specific state variables
        self.primary_aspects = []  # Main stats affected by this room
    
    def get_full_description(self):
        # Return the atmospheric description
        pass
    
    def calculate_stat_change(self, item, action, player):
        # Calculate actual stat changes based on item, room, and player context
        pass
```

**Initial Room: The Shore**
- Atmospheric description of washing up on mysterious island
- 3-4 interactive elements to test item system
- Focus on liminal, otherworldly tone

### 3. Player System (Simplified for now)
```python
class Player:
    def __init__(self):
        self.stats = {
            "ego": 55,      # The Mask
            "id": 70,       # The Flame  
            "superego": 45, # The Chain
            "shadow": 0,    # That Which Remains (hidden)
            "anima": 60,    # The Mirror
            "persona": 50   # The Veil
        }
        self.inventory = []
        self.location = None
    
    def update_stat(self, stat_name, change):
        # Update stat value, handle threshold events later
        pass
```

## CLI Interface Structure

### Main Game Loop
```python
def main_game_loop():
    # 1. Display room description
    # 2. Show available actions based on items and player state
    # 3. Process player input
    # 4. Execute actions and update game state
    # 5. Repeat
```

### Command Processing
- **Standard actions**: examine, take, look, go, inventory
- **Contextual actions**: Generated by items based on room/player state
- **Input parsing**: Simple command parsing (action + target)

## Initial Shore Items to Implement

1. **Driftwood Log** (SimpleItem)
   - Basic examination reveals weathered, mysterious carvings
   - Affects: Anima (curiosity about symbols)

2. **Tide Pool** (ComplexItem)  
   - Examine shows reflection and strange depths
   - Deeper interaction based on player introspection
   - Affects: Shadow, Anima

3. **Strange Footprints** (SimpleItem)
   - Examination reveals they lead inland
   - Affects: Ego (confidence), Superego (caution)

4. **Weathered Journal** (TakeableItem)
   - Can be taken and examined
   - Unlocks additional interactions later
   - Affects: Multiple stats based on player interpretation

## Phase 1 Implementation Order

1. **Item Base Class & Simple Items**
   - Abstract Item class with basic action handling
   - SimpleItem implementation with examine functionality
   - Test with 1-2 shore items

2. **Room System Integration**
   - Room class with item management
   - Shore room with atmospheric description
   - Basic stat change calculations

3. **CLI Interface**
   - Command parsing and action execution
   - Room description display
   - Action feedback system

4. **Player State Management**
   - Basic stat tracking
   - Simple inventory system
   - Action validation based on player state

## Testing Goals

- [ ] Player can examine items and get atmospheric descriptions
- [ ] Different items affect different stats
- [ ] Room state and player state influence available actions
- [ ] CLI interface feels intuitive and immersive
- [ ] Literary descriptions create liminal atmosphere

## Future Expansion Points

- **Stat Thresholds**: Events triggered by stat changes
- **Complex Items**: Multi-stage interactions
- **Room Transitions**: Moving between areas
- **Journal System**: Reflection prompts after exploration
- **Shadow Visibility**: When hidden stats become apparent

## Technical Notes

- Start with simple string-based action system
- Focus on clean, extensible class hierarchy
- Keep stat calculations simple initially
- Prioritize atmospheric writing and player immersion
- Plan for easy addition of new item types and rooms